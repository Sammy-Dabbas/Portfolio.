"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[906],{78619:function(e,t,n){n.d(t,{g:function(){return vt}});var a=n(85893),r=n(67294),s=n(69977),l=n(33299),i=n(25675),o=n(64343),c=n(58771),d=n(71722),u=n(11163),m=n(95591),x=n(45332),h={route:{}};h.route.match=function(e,t){if(t.equals)for(var n=0;n<t.equals.length;n++)if(e.pathname===t.equals[n])return!0;if(t.startsWith)for(var a=0;a<t.startsWith.length;a++)if(e.pathname.startsWith(t.startsWith[a]))return!0;if(t.includes)for(var r=0;r<t.includes.length;r++)if(e.pathname.includes(t.includes[r]))return!0;return!1},h.pick=function(e,t){for(var n={},a=0;a<t.length;a++){var r=t[a];n[r]=e[r]}return n},h.parse=JSON.parse,h.stringify=JSON.stringify;var f=h,p=["active","trialing"],v={"Pro Creator":"963152506924437514","Wave 1":"963006988827099146",Team:"694005289783132171",Moderator:"943142291298729984","Power User":"959946285773889626",Newbie:"951481232431136799","DM Power":"942185773925560321",Gallery:"965159233295355905",VIP:"972219691810578442",Guide:"967853397678112799",community:"1020387960471945306"},b=f.pick(v,f.parse('[ "Team", "Dev" ]')),g=(f.pick(v,["Team","Moderator","Guide","VIP"]),f.pick(v,["Team","Moderator","community"])),y=f.pick(v,["Team","community","Moderator","Guide"]),j=f.pick(v,["Team","Moderator","community","Guide","DM Power","Private Powers","Corporate Member","VIP"]),w={private:{name:"Private Plan",slug:"private",prod_id:"prod_Lcs334C8pujpZS",price_id:"price_1KvcJBJavIy9pYdOw7Cr2v4t",price:20,metered:!1,enterprise:!1},play:{name:"Standard Membership",slug:"play",prod_id:"prod_LaIPsl9yIhRp3W",price_id:"price_1Kt7oXJavIy9pYdO5frRoe0k",metered_price_id:"price_1Kt7oXJavIy9pYdOenmximUG",price:30,metered:!0,meteredPrice:3,includedHours:15,enterprise:!1},basic:{name:"Basic Membership",slug:"basic",prod_id:"prod_Lgk8feHodgmpv7",price_id:"price_1KzMebJavIy9pYdOo9fUbtW2",metered_price_id:"price_1KzMebJavIy9pYdOFwvnw3fg",price:10,metered:!0,meteredPrice:4,includedHours:3.3333333333,enterprise:!1},corporate:{name:"Corporate Membership",slug:"corporate",prod_id:"prod_LirecKjf376lCz",price_id:"price_1L1PvUJavIy9pYdOtzA468zl",metered_price_id:"price_1L1PvUJavIy9pYdOFZr7QOTS",price:600,metered:!0,meteredPrice:4,includedHours:120,enterprise:!0}},N=(Object.values(b),Object.values(g),Object.values(y),Object.values(j),Object.values(w).map((function(e){return e.prod_id})),Object.values(w).map((function(e){return e.price_id})),n(30658));function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){k(e,t,n[t])}))}return e}var C=function(e){var t=e.text,n=e.type,r=function(e){switch(n){case"success":return(0,a.jsx)(o.Z,{className:"text-green-600 ".concat(e.className)});case"error":return(0,a.jsx)(c.Z,{className:"text-red-600 ".concat(e.className)});case"warning":return(0,a.jsx)(c.Z,{className:"text-yellow-500 ".concat(e.className)});default:return(0,a.jsx)(d.Z,{className:"text-blue-700 animate-spin transform rotate-180 ".concat(e.className)})}};return(0,a.jsxs)("div",{className:"flex gap-4 justify-center items-center p-3 border-dashed w-full border ".concat(function(){switch(n){case"success":return"border-green-900/70";case"error":return"border-red-900/80";case"loading":default:return"border-blue-900/70";case"warning":return"border-yellow-800"}}()," rounded-lg sm:justify-between"),children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-100",children:t}),(0,a.jsx)("div",{className:"flex justify-center items-center w-6 h-6 rounded-full",children:(0,a.jsx)(r,{className:"w-6 h-6 text-white","aria-hidden":"true"})})]})};function P(e){var t=e.sessionId,n=e.setConfirmData,s=e.hash,l=(0,r.useState)(!0),i=l[0],o=l[1],c=(0,r.useState)(!1),d=c[0],h=c[1],f=(0,m.ZP)("/api/checkout/checkout-sessions/".concat(t),x.EE),v=f.data,b=f.error,g=(0,m.ZP)((function(){return e=v.subscription,"/api/checkout/subscriptions/".concat(e);var e}),x.EE,{refreshInterval:d?0:1e3}),y=g.data,j=g.error;if((0,r.useEffect)((function(){"paid"===(null===v||void 0===v?void 0:v.payment_status)&&n(v)}),[v]),(0,r.useEffect)((function(){if(y&&y.subscription){var e=y.subscription.status;p.includes(e)&&h(!0)}}),[y]),b||j)return(0,a.jsx)("div",{className:"flex justify-center items-center w-full h-full",children:(0,a.jsx)("h3",{className:"text-base font-normal text-slate-300",children:"There was an error fetching the checkout session."})});var w=function(){var e={text:"Subscription confirming...",type:"loading"};return"active"===(null===y||void 0===y?void 0:y.status)&&(e={text:"Subscription Activated",type:"success"}),"unpaid"===(null===y||void 0===y?void 0:y.payment_status)&&(e={text:"Subscription Unsuccessful",type:"error"}),(0,a.jsx)(C,_({},e))},k=function(){var e={text:"Payment confirming...",type:"loading"};return"paid"===(null===v||void 0===v?void 0:v.payment_status)&&(e={text:"Payment Successful",type:"success"}),"unpaid"===(null===v||void 0===v?void 0:v.payment_status)&&(e={text:"Payment Unsuccessful",type:"error"}),b&&(e={text:"Payment Error",type:"warning"}),(0,a.jsx)(C,_({},e))},P={open:i,setOpen:o,title:"Confirming Subscription",ActionButton:function(){return(0,a.jsx)("button",{type:"button",className:"inline-flex justify-center py-2 px-4 w-full text-base font-medium text-white disabled:text-gray-900 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 rounded-md border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-sm disabled:cursor-not-allowed sm:text-base",onClick:function(){s?u.default.push("/checkout/plans/?hash=".concat(s),void 0,{shallow:!0}):u.default.push("/account",void 0,{shallow:!0});var e=new Event("visibilitychange");document.dispatchEvent(e),o(!1)},disabled:!("paid"===(null===v||void 0===v?void 0:v.payment_status)&&"active"===(null===y||void 0===y?void 0:y.status)),children:"Close"})},closeCallback:function(){return u.default.push(s?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(s):"".concat("https://www.midjourney.com","/account/"),void 0,{shallow:!1})}};return(0,a.jsxs)(N.Z,{modalBaseProps:P,children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500",children:"paid"===(null===v||void 0===v?void 0:v.payment_status)&&"active"===(null===y||void 0===y?void 0:y.status)?(0,a.jsxs)(a.Fragment,{children:["Thank you for purchasing a subscription to Midjourney! We hope you have a fantastic time with it. Come join us on Discord to use the bot and start creating:"," ",(0,a.jsx)("a",{href:"https://discord.gg/midjourney",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:"discord.gg/midjourney"})]}):"unpaid"===(null===v||void 0===v?void 0:v.payment_status)?(0,a.jsxs)(a.Fragment,{children:["Please wait a few minutes. If the payment doesn't confirm you can try again or email"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:"#support"}),"."]}):(0,a.jsxs)(a.Fragment,{children:["Please wait while the payment and subscription is confirmed. If this takes longer than a few minutes, please message"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:"#support"}),"."]})})}),(0,a.jsx)(k,{}),(0,a.jsx)("div",{className:"h-4"}),(0,a.jsx)(w,{})]})}var S=n(63519),B=n(58057),O=n(30315),Z=(n(83454),n(44304)),F=n(36792),M=n(36090),T=function(e){var t=e.planKey,n=e.priceKey,r=e.className,s=e.type,l=e.scheduled,i=(0,O.m)().setModalProps;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(M.Z,{onClick:function(){i({type:"upgrade",data:{planKey:t,priceKey:n,type:s}}),(0,Z.B)("view_".concat(s),{category:"Billing",label:s,plan:t})},className:"flex relative justify-center items-center py-3 px-5 w-full text-base font-medium text-white bg-blue-900 hover:bg-blue-900/50 rounded-md border-2 border-transparent capitalize ".concat(r," ").concat(l&&"pointer-events-none bg-transparent border-blue-900"),"aria-describedby":"tier-standard",children:s})})};function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){var t,n=e.tier,r=e.viewTab,s=(0,O.m)(),l=s.userData,i=s.userPlanRecurring,o=s.changing,c=s.setModalProps,d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){I(e,t,n[t])}))}return e}({},l).status,u=o&&l.next.plan.key===n.key&&r===l.next.plan.price.key,m={basic:"!bg-teal-600",standard:"!bg-indigo-600",pro:"!bg-amber-600"}[n.key];return r!==i||!n.current||"active"!==d&&"past_due"!==d?u?(0,a.jsxs)(M.Z,{onClick:function(){var e;c({type:"unchange"}),(0,Z.B)("view_cancelchange",{category:"Billing",label:"cancel change",plan:n.key,price:null===(e=null===n||void 0===n?void 0:n.price[null===n||void 0===n?void 0:n.credit_period])||void 0===e?void 0:e.price,period:n.credit_period})},className:"flex relative group justify-center items-center py-3 px-5 w-full text-base font-medium text-white hover:!bg-blue-900 rounded-md border-2 border-transparent capitalize border-blue-900\n        }","aria-describedby":"tier-standard",children:[(0,a.jsx)("span",{className:"group-hover:hidden",children:"Change Scheduled"}),(0,a.jsx)("span",{className:"hidden group-hover:block",children:"Cancel Scheduled Change"})]}):"active"===d&&!n.current||n.current&&r!==i?(0,a.jsx)(T,{planKey:n.key,priceKey:null===(t=n.price[r])||void 0===t?void 0:t.key,scheduled:u,type:(u?"Change Scheduled":n.level>(null===l||void 0===l?void 0:l.plan.level)&&"Upgrade Plan")||n.level<(null===l||void 0===l?void 0:l.plan.level)&&"Downgrade Plan"||n.current&&"Change Commitment"}):(0,a.jsx)("div",{className:"rounded-md shadow ",children:(0,a.jsx)(F.Z,{planKey:n.key,priceKey:r,period:n.credit_period,className:m})}):(0,a.jsx)(M.Z,{disabled:!0,className:"inline-flex items-center py-3 px-5 !text-base text-white rounded-md border-2 border-transparent shadow-sm pointer-events-none sm:text-sm ".concat(m),children:"Active"})};function E(e){var t,n,r,s=e.tier,l=e.cancelling,i=e.viewTab,o=e.setViewTab,c=e.hash,d=(0,O.m)(),u=d.userPlanRecurring,m=d.status,h=d.subbed,f=d.privateSub,p={basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400"}[s.key],v={basic:"from-teal-700/10",standard:"from-indigo-700/10",pro:"from-amber-700/10"}[s.key];return(0,a.jsx)("div",{className:"relative col-span-1 max-w-7xl",role:"tabpanel","aria-label":"".concat(i,"ly ").concat(s.key),children:(0,a.jsxs)("div",{className:"overflow-hidden h-full mx-auto max-w-lg bg-darkBlue-500/20 rounded-2xl border-2 transition-[border] flex-col ".concat(h&&s.current?"active"===m||null==m?"border-emerald-700/30":"border-red-500/30":"border-slate-800/30 !border","  shadow-lg lg:flex lg:max-w-none"),children:[(0,a.jsxs)("div",{className:"relative py-8 px-6 !pb-8 text-left bg-uiBlue-500/5 lg:flex lg:flex-col lg:shrink-0 lg:justify-start lg:p-12",children:[(0,a.jsx)("div",{className:(0,x.CN)("absolute top-0 left-0 -z-10 w-full h-full bg-gradient-to-br  via-transparent",v)}),(0,a.jsx)("h3",{className:"text-2xl font-medium text-slate-400 capitalize sm:text-2xl",children:(0,a.jsxs)("span",{className:p,children:[s.key," Plan"]})}),(0,a.jsxs)("div",{className:"flex justify-start items-baseline mt-4 text-5xl font-extrabold text-slate-100",children:[function(e,t){var n="$";return Number.isNaN(e)||void 0===e||("year"===t?n+=Math.floor(e/100/12):"month"===t&&(n+=e/100)),n}(null===(t=null===s||void 0===s?void 0:s.price[i])||void 0===t?void 0:t.cents,i),(0,a.jsx)("span",{className:"ml-2 text-xl font-medium text-gray-500",children:"/ month"})]}),(0,a.jsxs)("p",{className:"text-lg font-medium leading-6 text-slate-300",children:["year"===i?"Billed yearly":"Billed monthly"," "]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("div",{className:"relative rounded-md shadow",children:(0,a.jsx)(A,{tier:s,subbed:h,viewTab:i,userPlanRecurring:u,privateSub:f,hash:c,status:m,cancelling:l})})}),(0,a.jsxs)("button",{onClick:function(){return o("month"===i?"year":"month")},className:"p-1 flex items-center gap-1 justify-center ml-1 mt-2 px-1.5 text-sm hover:underline font-medium text-blue-700 text-center w-full",children:["year"===i?"Switch to monthly billing":"Save with annual billing (20% off)"," ",(0,a.jsx)(S.Z,{height:12,className:"opacity-80"})]})]}),(0,a.jsx)("div",{className:"flex-1 py-8 px-6 lg:p-12 lg:py-8",children:(0,a.jsx)("ul",{role:"list",className:"flex flex-col border-t divide-y divide-slate-800 lg:border-t-0",children:null===s||void 0===s||null===(n=s.copy)||void 0===n||null===(r=n.features)||void 0===r?void 0:r.map((function(e){return(0,a.jsxs)("li",{className:"flex items-center py-4 lg:col-span-1 ",children:[(0,a.jsx)("div",{className:"shrink-0",children:(0,a.jsx)(B.Z,{height:18,className:" text-emerald-600","aria-hidden":"true"})}),(0,a.jsx)("p",{className:"ml-3 text-base text-slate-300",children:e})]},e)}))})})]})})}var D=function(e){var t;return(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"py-12 pb-16",children:(0,a.jsx)("div",{className:"flex grid relative flex-wrap gap-8 items-auto",style:{gridTemplateColumns:"repeat(auto-fit, minmax(325px, 1fr))"},"aria-label":"".concat(e.viewTab,"ly plans"),children:null===(t=e.tiers)||void 0===t?void 0:t.filter((function(e){return!e.legacy})).map((function(t){return(0,a.jsx)(E,{tier:t,cancelling:e.cancelling||!1,hash:e.hash,viewTab:e.viewTab,setViewTab:e.setViewTab},t.id)}))})})})};function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var G=function(e){var t=e.viewTab,n=void 0===t?"year":t,r=e.setViewTab,s=e.className;return(0,a.jsx)("div",{className:"select-none relative px-4 mx-auto w-full max-w-2xl sm:px-6 lg:px-8 ".concat(s),children:(0,a.jsx)("div",{className:"block",children:(0,a.jsx)("nav",{className:"flex relative z-0 gap-1 p-1 bg-darkBlue-500 rounded-2xl shadow","aria-label":"Tabs",role:"tablist",children:[{name:"Yearly Billing",key:"year",tag:"20% off"},{name:"Monthly Billing",key:"month"}].map((function(e,t){return(0,a.jsx)("a",{className:U(e.key===n?"text-slate-100 bg-uiBlue-500":"text-slate-400 hover:text-slate-200","group relative overflow-hidden min-w-0 flex-1   p-3 text-base font-medium text-center cursor-pointer rounded-xl hover:bg-uiBlue-500/50 focus:z-10 active:bg-uiBlue-500/70"),onClick:function(){r(e.key)},"aria-current":e.key===n?"page":void 0,role:"tab",children:(0,a.jsx)("span",{children:e.name})},e.key)}))})})})},Y=n(34051),R=n.n(Y),W=n(56365),L=n(60670),$=n(12197);function H(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(at){return void n(at)}i.done?t(o):Promise.resolve(o).then(a,r)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){H(s,a,r,l,i,"next",e)}function i(e){H(s,a,r,l,i,"throw",e)}l(void 0)}))}}var z=function(e){var t=e.invoices;return t&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-col gap-2",children:t.map((function(e){var t,n=new Date(1e3*e.created).toLocaleDateString();return(0,a.jsxs)(L.Z,{href:e.hosted_invoice_url,target:"_blank",className:"group flex flex-col gap-1 justify-between items-start !p-4 w-full bg-blue-900/10 hover:bg-blue-900/30 rounded-xl border border-blue-900 hoverUpSmall",rel:"noreferrer",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 w-full",children:[(0,a.jsx)("h3",{className:"flex justify-start text-base font-normal text-slate-200",children:n}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end items-center font-normal text-slate-400 group-hover:underline",children:["Pay now ",(0,a.jsx)(W.Z,{height:18})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between w-full",children:[(0,a.jsxs)("div",{className:"w-full text-sm font-normal font-medium text-left text-slate-500 capitalize",children:[(0,a.jsx)("span",{className:" text-slate-400",children:"Amount Due:"})," ",(0,a.jsxs)("span",{className:"capitalize",children:[e.subtotal/100," ",e.currency.toUpperCase()]})]}),(0,a.jsxs)("div",{className:"w-full text-sm font-normal font-medium text-right text-slate-500 capitalize",children:[(0,a.jsx)("span",{className:" text-slate-400",children:"Reason:"})," ",(0,a.jsx)("span",{className:"capitalize",children:null===(t=e.billing_reason)||void 0===t?void 0:t.replaceAll("_"," ")})]})]})]},e.id)}))})})};function K(e,t){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/checkout-discord/subscriptions/get-invoices/"),{stripe_id:e,hash:t})}function V(e){var t=e.stripe_id,n=e.setOpen,s=e.open,l=e.hash,i=(0,r.useState)(),o=i[0],c=i[1];(0,r.useEffect)((function(){function e(){return(e=q(R().mark((function e(){var n;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,l);case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var d={open:s,setOpen:n,title:"Unpaid Invoices",type:"warning",showClose:!0};return(0,a.jsxs)(N.Z,{modalBaseProps:d,children:["list"===(null===o||void 0===o?void 0:o.object)&&(0,a.jsx)(z,{invoices:o.data}),"list"!==(null===o||void 0===o?void 0:o.object)&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}var J=function(e){var t=e.stripe_id,n=e.className,s=e.hash,l=(0,r.useState)(!1),i=l[0],o=l[1];return(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)(V,{open:i,setOpen:o,stripe_id:t,hash:s},"".concat(t,"-modal")),(0,a.jsx)(M.Z,{onClick:function(){return o(!0)},className:"flex relative justify-center items-center py-3 px-5 w-full text-base font-medium text-white bg-red-900 hover:!bg-red-800/50 rounded-md border border-transparent ".concat(n),"aria-describedby":"tier-standard",children:"View overdue invoices"})]})},Q=n(38264);function X(e){var t=e.text,n=e.type,r=e.className,s=e.children,l=function(e){switch(n){case"success":return(0,a.jsx)(o.Z,{className:"text-emerald-600 ".concat(e.className)});case"error":return(0,a.jsx)(c.Z,{className:"text-red-600 ".concat(e.className)});case"warning":return(0,a.jsx)(c.Z,{className:"text-yellow-500 ".concat(e.className)});case"info":return(0,a.jsx)(Q.Z,{className:"text-blue-600 ".concat(e.className)});default:return(0,a.jsx)(d.Z,{className:"text-blue-700 animate-spin transform rotate-180 ".concat(e.className)})}};return(0,a.jsxs)("div",{className:"flex gap-4 text-left justify-center items-center p-3 border-dashed w-full border-[1.5px] ".concat(function(){switch(n){case"success":return"border-emerald-900/70 text-emerald-500";case"error":return"border-red-900/80 text-red-500";case"loading":default:return"border-blue-900/70 text-blue-500";case"warning":return"border-yellow-800 text-yellow-500"}}()," rounded-lg bg-darkBlue-900/50 .text-slate-100 sm:justify-between ").concat(r),children:[(0,a.jsx)("h3",{className:"text-base font-normal ",children:t||s}),(0,a.jsx)("div",{className:"flex justify-center items-center w-6 h-6 rounded-full",children:(0,a.jsx)(l,{className:"w-6 h-6","aria-hidden":"true"})})]})}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function te(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(at){return void n(at)}i.done?t(o):Promise.resolve(o).then(a,r)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){te(s,a,r,l,i,"next",e)}function i(e){te(s,a,r,l,i,"throw",e)}l(void 0)}))}}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);l=!0);}catch(o){i=!0,r=o}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var se=function(e){var t=e.currentStatus,n=e.data,r={text:"Update confirming...",type:"loading"};return"confirmed"===t&&(r={text:"Update confirmed",type:"success"}),"error"===t&&(r={text:"Error: ".concat(null===n||void 0===n?void 0:n.error.message),type:"error"}),(0,a.jsx)(X,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ae(e,t,n[t])}))}return e}({},r))},le=function(e){var t=e.currentStatus,n=e.data;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"text-left",children:(0,a.jsx)("p",{className:"text-base text-gray-500",children:"confirmed"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Success!"}),"Your change has been confirmed."]}):"error"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Something went wrong :("}),"Please check the error message and try again. If the issue persists, please message"," ",(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:"https://discord.com/channels/662267976984297473/958069758211797092",target:"_blank",rel:"noreferrer",children:"#support"}),"."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Processing..."}),"Please wait while the update is confirmed. If this takes longer than a minute, please message"," ",(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:"https://discord.com/channels/662267976984297473/958069758211797092",target:"_blank",rel:"noreferrer",children:"#support"}),"."]})})}),(0,a.jsx)(se,{currentStatus:t,data:n})]})};function ie(e){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/uncancel/"),{hash:e})}function oe(e,t){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/cancel/"),{when:e,hash:t})}function ce(e){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/cancel/estimate/"),{hash:e})}function de(e){var t,n,s=e.setOpen,l=e.open,i=(0,O.m)(),o=(i.userData,i.cancelling),c=i.hash,d=i.plans,m=(0,r.useState)(!1),h=(m[0],m[1],(0,r.useState)(!1)),f=h[0],p=(h[1],(0,r.useState)(null)),v=p[0],b=p[1],g=(0,u.useRouter)(),y=(0,r.useState)(),j=y[0],w=y[1],k=(0,r.useState)("end_of_period"),_=k[0],C=k[1],P=(0,r.useState)("loading"),S=P[0],B=P[1],F=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(S)}),[S]),T=(0,r.useMemo)((function(){var e={key:"n/a"};if(d&&Array.isArray(d)){var t=re(d.filter((function(e){return e.current})),1)[0];t&&(e=t)}return e}),[d]);(0,r.useEffect)((function(){function e(){return(e=ne(R().mark((function e(){var t;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(c);case 2:(null===(t=e.sent)||void 0===t?void 0:t.usage)&&(w(t),B("checking"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){function e(){return(e=ne(R().mark((function e(){var t;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F("confirming")){e.next=15;break}if((0,Z.B)("subscription_".concat(o?"un":"","cancel"),{timeframe:_,plan:null===T||void 0===T?void 0:T.key}),o){e.next=9;break}return e.next=6,oe(_,c);case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,ie(c);case 11:t=e.sent;case 12:console.log("res: ",t),(null===t||void 0===t?void 0:t.ok)||!t.error?B("confirmed"):B("error"),b(t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o,F,f,c,_]);var I=(0,r.useMemo)((function(){return F("confirming")?function(){}:F("confirmed")?function(){return g.reload()}:null}),[F,g]),A={open:l,setOpen:s,title:o?"We're happy to see you again!":"We're sorry to see you go!",ActionButton:function(){return!F("confirming","confirmed")||F("error")?(0,a.jsxs)(M.Z,{className:(0,x.CN)("inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-white disabled:text-gray-900  disabled:!bg-gray-600 rounded-md border border-transparent focus:outline-none focus:ring-2  focus:ring-offset-2 shadow-sm disabled:cursor-not-allowed sm:text-base",o?"bg-emerald-800 hover:!bg-emerald-700 focus:ring-emerald-700":"bg-red-800 hover:!bg-red-700 focus:ring-red-700"),disabled:!(null!=j||o),onClick:function(){B("confirming")},children:[!F("error")&&(o?"Confirm uncancellation":"Confirm cancellation"),F("error")?"Try Again":""]}):(0,a.jsx)(M.Z,{className:"inline-flex justify-center py-2 px-4 w-full text-base font-medium text-white hover:text-white bg-blue-600 hover:bg-blue-800 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base disabled:text-gray-900 disabled:!bg-gray-600 disabled:cursor-not-allowed min-h-[3rem]",onClick:function(){F("confirmed")&&g.reload()},disabled:!F("confirmed"),children:F("confirmed")?"Close":"Please wait"})},BackButton:function(){return F("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(M.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent hover:border-slate-700 focus:outline-none focus:ring-0 transition sm:text-base",onClick:function(){return s(!1)},children:"Back"})},showClose:!0,closeCallback:I};return(0,a.jsxs)(N.Z,{modalBaseProps:A,children:[F("confirming","error","confirmed")&&(0,a.jsx)(le,{data:v,currentStatus:S}),!o&&(null===j||void 0===j||null===(t=j.can_cancel)||void 0===t?void 0:t.now)&&F("checking")&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:"You are eligible for a full refund on your latest payment."}),(0,a.jsx)("p",{className:"",children:"You may choose to cancel immediately with a refund or keep your plan active until the end of your subscription period."}),(0,a.jsxs)("fieldset",{className:"mt-4",onChange:function(e){return C(e.target.id)},children:[(0,a.jsx)("legend",{className:"sr-only",children:"Cancel timeframe"}),(0,a.jsx)("div",{className:"space-y-4",children:[{id:"end_of_period",title:"Cancel at end of subscription period"},{id:"now",title:"Cancel immediately with refund"}].map((function(e){return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:e.id,name:"cancel-timeframe",type:"radio",defaultChecked:e.id===_,className:"w-4 h-4 text-indigo-600 bg-red-500 border-gray-300 focus:ring-indigo-500 cursor-pointer"}),(0,a.jsx)("label",{htmlFor:e.id,className:"block ml-3 text-base font-medium text-slate-200 cursor-pointer",children:e.title})]},e.id)}))})]})]}),o&&F("checking")&&(0,a.jsx)("div",{className:"flex flex-col gap-6 my-2 text-left",children:(0,a.jsxs)("p",{className:"text-slate-200",children:["If you proceed, your plan will be set to"," ",(0,a.jsxs)("span",{className:"font-medium text-blue-400",children:[(0,a.jsx)("span",{className:"italic underline",children:"not cancel"})," at the end of your current subscription period."]})]})}),!o&&!(null===j||void 0===j||null===(n=j.can_cancel)||void 0===n?void 0:n.now)&&F("checking")&&(0,a.jsxs)("div",{className:"flex flex-col gap-6 my-2 text-left",children:[(0,a.jsxs)("p",{className:"text-slate-200",children:["If you proceed, your plan will be set to"," ",(0,a.jsxs)("span",{className:"font-medium text-blue-400",children:[(0,a.jsx)("span",{className:"italic underline",children:"cancel"})," at the end of your current subscription period."]})]}),(0,a.jsxs)("p",{className:"flex gap-2 items-start p-2 italic text-slate-400 rounded-lg border border-blue-800",children:[(0,a.jsx)(Q.Z,{height:20,className:"inline shrink-0 text-blue-600"}),"If you change your mind, you can uncancel any time before the cancellation goes through."]})]}),F("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}var ue=n(10822);function me(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(at){return void n(at)}i.done?t(o):Promise.resolve(o).then(a,r)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){me(s,a,r,l,i,"next",e)}function i(e){me(s,a,r,l,i,"throw",e)}l(void 0)}))}}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e){var t=e.currentStatus,n=e.data;console.log("currentStatus: ",t);var r={text:"Purchase confirming...",type:"loading"};return"confirmed"===t&&(r={text:"Purchase confirmed",type:"success"}),"error"===t&&(r={text:"Error: ".concat(null===n||void 0===n?void 0:n.error.message),type:"error"}),(0,a.jsx)(X,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){he(e,t,n[t])}))}return e}({},r))},pe=function(e){var t=e.currentStatus,n=e.data;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"text-left",children:(0,a.jsx)("p",{className:"text-base text-gray-500",children:"confirmed"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Success!"}),"Your purchase has been confirmed. You can now generate more jobs."]}):"error"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Something went wrong :("}),"Please check the error message and try again. If the issue persists, please message"," ",(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:"https://discord.com/channels/662267976984297473/958069758211797092",target:"_blank",rel:"noreferrer",children:"#support"}),"."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Processing..."}),"Please wait while the update is confirmed. If this takes longer than a minute, please message"," ",(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:"https://discord.com/channels/662267976984297473/958069758211797092",target:"_blank",rel:"noreferrer",children:"#support"}),"."]})})}),(0,a.jsx)(fe,{currentStatus:t,data:n})]})};function ve(e,t){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/credits/purchase"),{price_key:e,hash:t})}function be(e){return(0,x.EE)("".concat("https://www.midjourney.com","/api/billing/passthrough/product/credits/rollover/user_id/").concat(e?"?hash=".concat(e):""))}function ge(e){var t,n=e.setOpen,s=e.open,l=(0,O.m)().hash,i=(0,r.useState)([]),o=i[0],c=i[1],d=(0,r.useState)(""),m=d[0],h=d[1],f=(0,r.useState)(null),p=f[0],v=f[1],b=(0,r.useState)("loading"),g=b[0],y=b[1],j=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(g)}),[g]),w=(0,u.useRouter)();(0,r.useEffect)((function(){function e(){return(e=xe(R().mark((function e(){var t;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(l);case 2:t=e.sent,c(null===t||void 0===t?void 0:t.prices),y("idle");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){function e(){return(e=xe(R().mark((function e(){var t;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("confirming"!==g){e.next=6;break}return(0,Z.B)("credits_purchase",{category:"Billing",label:"credits purchase",price_id:m}),e.next=4,ve(m,l);case 4:t=e.sent,v(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,g,m]),(0,r.useEffect)((function(){if(p){if(console.log("taskResponse: ",p),p.success||p.credits)return void y("confirmed");!p.error&&p.credits||y("error")}}),[p]);var k=(0,r.useMemo)((function(){return j("confirming")?function(){}:j("confirmed")?function(){return w.reload()}:null}),[j,w]),_={open:s,setOpen:n,title:"Buy more Fast hours",ActionButton:function(){return(0,a.jsxs)(M.Z,{className:(0,x.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:text-gray-900 disabled:!bg-gray-600 disabled:cursor-not-allowed min-h-[3rem]",m&&"bg-blue-700 hover:bg-blue-800"),onClick:function(){"confirmed"===g?w.reload():"error"===g?(v(null),y("confirming")):"confirm"===g?y("confirming"):m&&y("confirm")},disabled:!m&&"confirmed"!==g,children:[["idle","loading"].includes(g)&&!m&&"Select an amount",["idle","loading"].includes(g)&&m&&"Continue","confirmed"===g&&"Close","confirming"===g&&"Please wait","error"===g&&"Try again",["confirm"].includes(g)&&(0,a.jsx)(a.Fragment,{children:"Purchase"})]})},BackButton:function(){return["confirming","confirmed"].includes(g)?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(M.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:!bg-white/0 hover:!bg-slate-700 rounded-md border !border-transparent focus:outline-none focus:ring-0 transition sm:text-base",onClick:function(){["confirm","error"].includes(g)?(y("idle"),v(null)):n(!1)},children:"Back"})},showClose:!0,closeCallback:k};return(0,a.jsxs)(N.Z,{modalBaseProps:_,children:[["confirming","error","confirmed"].includes(g)&&(0,a.jsx)(pe,{data:p,currentStatus:g}),["idle"].includes(g)&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:"Select amount of Fast hours"}),"You will be asked to confirm your purchase at the next step.",(0,a.jsxs)("span",{className:"italic text-slate-400",children:["Note: While purchased Hours do not expire, they do"," ",(0,a.jsx)("span",{className:"underline",children:"require an active subscription"})," to use."]}),(0,a.jsx)("div",{className:"flex gap-4 mt-4 md:px-8",children:null===o||void 0===o?void 0:o.map((function(e,t){var n=null===e||void 0===e?void 0:e.key;return(0,a.jsxs)("button",{className:(0,x.CN)("flex flex-col text-center items-center p-4 px-4 w-full bg-darkBlue-500/70 hover:bg-uiBlue-500/70 rounded-md !border border-slate-800/50 hover:border-slate-400/30 hoverUpSmall",m===n&&"from-emerald-600/50 bg-gradient-to-br !border-emerald-500"),onClick:function(){h(n)},children:[(0,a.jsxs)("div",{className:(0,x.CN)("flex relative flex-col text-emerald-600",m===n&&"!text-white"),children:[(0,a.jsx)(ue.Z,{height:28,className:"-mb-5  opacity-0 ".concat(t>=2&&"!opacity-100")}),(0,a.jsx)(ue.Z,{height:28,className:" opacity-0 ".concat(t>=1&&"!opacity-100")}),(0,a.jsx)(ue.Z,{height:28,className:"-mt-5"})]}),(0,a.jsxs)("p",{className:"mt-2 text-lg font-medium text-slate-100","aria-label":(null===e||void 0===e?void 0:e.hours)+" Hour"+((null===e||void 0===e?void 0:e.hours)>1?"s":""),children:[null===e||void 0===e?void 0:e.hours," Hour",(null===e||void 0===e?void 0:e.hours)>1&&"s"]}),(0,a.jsx)("p",{className:"text-base font-medium text-slate-200 mix-blend-overlay",children:null===e||void 0===e?void 0:e.price})]},n)}))})]}),["confirm"].includes(g)&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:"Confirm your purchase"}),(0,a.jsx)("p",{className:"",children:"Your saved payment method will be charged instantly upon confirmation."}),(0,a.jsxs)("span",{className:"italic text-slate-400",children:["Note: While purchased Hours do not expire, they do"," ",(0,a.jsx)("span",{className:"underline",children:"require an active subscription"})," to use."]}),null===(t=o.filter((function(e){return e.key===m})))||void 0===t?void 0:t.map((function(e,t){return(0,a.jsxs)("div",{className:(0,x.CN)("p-4 mt-3 bg-darkBlue-500/70 border-slate-800/50 border rounded-lg"),children:[(0,a.jsxs)("div",{className:"flex gap-5 justify-between items-center w-full",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-400",children:"Price per hour:"}),(0,a.jsx)("p",{className:"justify-center items-center font-medium text-slate-100",children:e.price_per_hour})]}),(0,a.jsxs)("div",{className:"flex gap-5 justify-between items-center w-full",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-400",children:"Fast Hours:"}),(0,a.jsxs)("p",{className:"justify-center items-center font-medium text-slate-100",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"x"})," ",null===e||void 0===e?void 0:e.hours]})]}),(0,a.jsx)("hr",{className:"my-2 opacity-30"}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-400",children:"Subtotal:"}),(0,a.jsx)("p",{className:"justify-center items-center font-medium text-slate-100",children:null===e||void 0===e?void 0:e.price})]})]},e.key)}))]}),"loading"===g&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}var ye=n(13902);function je(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(at){return void n(at)}i.done?t(o):Promise.resolve(o).then(a,r)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){je(s,a,r,l,i,"next",e)}function i(e){je(s,a,r,l,i,"throw",e)}l(void 0)}))}}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(e){var t,n=e.currentStatus,r=e.data,s={text:"Change confirming...",type:"loading"};("confirmed"===n&&(s={text:"Change confirmed",type:"success"}),"error"===n||"estimate_error"===n)&&(s={text:"Error: ".concat((null===r||void 0===r||null===(t=r.error)||void 0===t?void 0:t.message)||"Unknown error"),type:"error"});return(0,a.jsx)(X,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ne(e,t,n[t])}))}return e}({},s))},_e=function(e){var t=e.currentStatus,n=e.data;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500",children:function(){var e=null;switch(t){case"confirmed":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Success!"}),"Your plan change has been successful! You can safely refresh the page."]});break;case"error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Something went wrong :("}),"Please try again. If the issue persists, please message"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:"#support"}),"."]});break;case"estimate_error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Something went wrong :("}),"There was an error fetching your plan change estimate, please try again shortly. If the issue persists, please message"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:"#support"}),"."]});break;default:e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Processing..."}),"Please wait while the change is confirmed. If this takes longer than a few minutes, please message"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:"#support"}),"."]})}return e}()})}),(0,a.jsx)(ke,{currentStatus:t,data:n})]})};function Ce(e){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/add_on/cancel/"),{product:"can_private",hash:e})}function Pe(e){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/add_on/cancel/estimate/"),{product:"can_private",hash:e})}function Se(e){var t,n,s,l,i,o,c,d,m,h,f,p,v=e.planKey,b=e.priceKey,g=e.setOpen,y=e.open,j=(e.type,(0,O.m)()),w=j.hash,k=j.userData,_=(0,r.useState)(),C=_[0],P=_[1],S=(0,u.useRouter)(),B=(0,r.useState)(),Z=B[0],F=B[1],T=(0,r.useState)(!1),I=T[0],A=T[1];console.log("estimate: ",Z);var E=(0,r.useState)("loading"),D=E[0],U=E[1],G=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(D)}),[D]);(0,r.useEffect)((function(){function e(){return(e=we(R().mark((function e(){var t,n;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G("loading")){e.next=7;break}return e.next=4,Pe(w);case 4:(null===(n=e.sent)||void 0===n?void 0:n.error)||!(null===n||void 0===n||null===(t=n.usage)||void 0===t?void 0:t.add_on)?U("estimate_error"):(U("estimate"),A(n.usage.add_on.used.cents<5)),F(n.usage);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[G,w]),(0,r.useEffect)((function(){function e(){return(e=we(R().mark((function e(){var t;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G("confirming")){e.next=6;break}return e.next=3,Ce(w);case 3:t=e.sent,P(t),t.success?U("confirmed"):U("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[G,w,b,v]);var Y=(0,r.useMemo)((function(){return G("confirming")?function(){}:G("confirmed")?function(){return S.reload()}:null}),[G,S]),W={open:y,setOpen:g,title:"Cancel Stealth Add-On",ActionButton:function(){return(0,a.jsxs)(M.Z,{className:(0,x.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:!text-gray-900 disabled:!bg-gray-600 disabled:pointer-events-none disabled:cursor-not-allowed min-h-[3rem] bg-blue-700 hover:bg-blue-800"),onClick:function(){"confirmed"===D?S.reload():G("error","estimate_error")?(P(null),F(null),U("loading")):G("estimate")&&U("confirming")},disabled:G("confirming","loading"),children:[["estimate"].includes(D)&&"Confirm Change",G("confirmed")&&"Close",G("confirming")&&"Please wait",G("error","estimate_error")&&"Try again",G("loading")&&"Loading"]})},BackButton:function(){return G("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(M.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base",onClick:function(){return g(!1)},children:"Cancel"})},type:(null===C||void 0===C?void 0:C.msg)?"warning":G("confirmed")?"success":"standard",closeCallback:Y};return(0,a.jsxs)(N.Z,{modalBaseProps:W,children:[G("confirming","error","estimate_error","confirmed")&&(0,a.jsx)(_e,{data:C||Z,currentStatus:D}),G("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})}),I&&G("estimate")&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:"You are eligible for a full refund on your latest Stealth invoice."}),(0,a.jsx)("p",{className:"",children:"The removal of your Stealth subscription will be immediate and you will be refunded the full amount of your Stealth subscription in 5-10 days."})]}),!1===I&&G("estimate")&&(0,a.jsxs)("div",{className:"flex flex-col gap-6 my-2 text-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:"You are eligible for proration"}),(0,a.jsx)("p",{className:"text-slate-200",children:"If you proceed, Stealth will be removed from your subscription and your remaining time will be credited to your account. ."}),(0,a.jsxs)("p",{className:"flex gap-2 items-start p-2 italic text-slate-400 rounded-lg border border-blue-800",children:[(0,a.jsx)(ye.Z,{height:20,className:"inline shrink-0 text-blue-600"}),"If you want to keep Stealth active until the end of your subscription period, please wait to remove it."]}),(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:[(0,a.jsx)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:["Removing"," ",(0,a.jsx)("span",{className:"text-indigo-500",children:"Stealth Mode"})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Time remaining in month"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium","text-emerald-500"),children:[0!==-(null===Z||void 0===Z||null===(t=Z.add_ons)||void 0===t||null===(n=t.can_private)||void 0===n||null===(s=n.left)||void 0===s?void 0:s.cents)&&(-(null===Z||void 0===Z||null===(l=Z.add_ons)||void 0===l||null===(i=l.can_private)||void 0===i||null===(o=i.left)||void 0===o?void 0:o.cents)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.floor(Math.abs(null===(c=null===Z||void 0===Z?void 0:Z.add_ons.can_private)||void 0===c?void 0:c.left.cents))/100]})]})]})}),(0,a.jsx)("div",{className:"p-4 space-y-4 text-slate-200 border border-transparent .bg-slate-100/5",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Current balance"}),(0,a.jsxs)("p",{className:(0,x.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===k||void 0===k||null===(d=k.stripe)||void 0===d?void 0:d.balance)/100)]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Final balance"}),(0,a.jsxs)("p",{className:(0,x.CN)(" text-emerald-500"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.round(Math.abs((null===Z||void 0===Z||null===(m=Z.add_ons)||void 0===m||null===(h=m.can_private)||void 0===h||null===(f=h.left)||void 0===f?void 0:f.cents)+(null===k||void 0===k||null===(p=k.stripe)||void 0===p?void 0:p.balance)))/100]})]})]})})]})]})]})}function Be(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(at){return void n(at)}i.done?t(o):Promise.resolve(o).then(a,r)}function Oe(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){Be(s,a,r,l,i,"next",e)}function i(e){Be(s,a,r,l,i,"throw",e)}l(void 0)}))}}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=function(e){var t=e.currentStatus,n=e.data;console.log("data: ",n);var r,s={text:"Change confirming...",type:"loading"};("confirmed"===t&&(s={text:"Change confirmed",type:"success"}),"error"===t||"estimate_error"===t)&&(s={text:"Error:".concat((null===n||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||"Unknown error"),type:"error"});return(0,a.jsx)(X,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ze(e,t,n[t])}))}return e}({},s))},Me=function(){var e,t,n,r,s,l,i,o,c=(0,O.m)(),d=c.userData,u=c.plans,m=function(e){return{basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[e]},h=(null===d||void 0===d||null===(e=d.plan)||void 0===e?void 0:e.type)===(null===d||void 0===d||null===(t=d.next)||void 0===t?void 0:t.plan.key),f=u.find((function(e){var t;return e.key===(null===d||void 0===d||null===(t=d.next)||void 0===t?void 0:t.plan.key)})),p=null===f||void 0===f?void 0:f.price[null===d||void 0===d||null===(n=d.next)||void 0===n?void 0:n.plan.price.key],v=u.find((function(e){return e.key===(null===d||void 0===d?void 0:d.plan.type)})),b=null===v||void 0===v?void 0:v.price[null===d||void 0===d?void 0:d.plan.recurring];return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("p",{className:"text-left text-slate-400",children:["Cancel any plan changes you have scheduled to take place on your next renewal date on"," ",(0,a.jsx)("span",{className:"text-blue-500",children:(0,x.L0)(d.next.at,!0)[1]}),"."]}),(0,a.jsx)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:(0,a.jsxs)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:[(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-left text-slate-400 uppercase",children:"From"}),(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:["Swap to"," ",(0,a.jsxs)("span",{className:m(null===d||void 0===d||null===(r=d.next)||void 0===r?void 0:r.plan.key),children:[f.copy.name,h&&("month"===(null===d||void 0===d||null===(s=d.next)||void 0===s?void 0:s.plan.key)?" Monthly":" Annual")]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Base price"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(p.cents)/100," /"," ",null===d||void 0===d||null===(l=d.next)||void 0===l?void 0:l.plan.price.key]})]})]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-left text-slate-400 uppercase",children:"To"}),(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100 capitalize",children:["Keep"," ",(0,a.jsxs)("span",{className:m(null===d||void 0===d?void 0:d.plan.type),children:[null===d||void 0===d?void 0:d.plan.type," Plan",h&&("month"===(null===d||void 0===d||null===(i=d.next)||void 0===i?void 0:i.plan.key)?" Monthly":" Annual")]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Base price"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(b.cents)/100," /"," ",null===d||void 0===d||null===(o=d.next)||void 0===o?void 0:o.plan.price.key]})]})]})]})})]})})},Te=function(e){var t=e.currentStatus,n=e.data;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500","aria-label":"confirmation",children:function(){var e=null;switch(t){case"confirmed":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Success!"}),"Your plan change has been successful! You can safely refresh the page."]});break;case"error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Something went wrong :("}),"Please try again. If the issue persists, please message"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:"#support"}),"."]});break;default:e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Processing..."}),"Please wait while the change is confirmed. If this takes longer than a few minutes, please message"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:"#support"}),"."]})}return e}()})}),(0,a.jsx)(Fe,{currentStatus:t,data:n})]})};function Ie(e){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/unchange/"),{hash:e})}function Ae(e){var t=e.setOpen,n=e.open,s=(0,O.m)().hash,l=(0,r.useState)(),i=l[0],o=l[1],c=(0,u.useRouter)(),d=(0,r.useState)(),m=d[0],h=(d[1],(0,r.useState)("estimate")),f=h[0],p=h[1],v=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(f)}),[f]);(0,r.useEffect)((function(){function e(){return(e=Oe(R().mark((function e(){var t;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v("confirming")){e.next=6;break}return e.next=3,Ie(s);case 3:t=e.sent,o(t),t.success?p("confirmed"):p("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v,s]);var b=(0,r.useMemo)((function(){return v("confirming")?function(){}:v("confirmed")?function(){return c.reload()}:null}),[v,c]),g={open:n,setOpen:t,title:"Remove Scheduled Plan Change",ActionButton:function(){return(0,a.jsxs)(M.Z,{className:(0,x.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:!text-gray-900 disabled:!bg-gray-600 disabled:pointer-events-none disabled:cursor-not-allowed min-h-[3rem] bg-blue-700 hover:bg-blue-800"),onClick:function(){v("confirmed")?c.reload():v("asking")?p("estimate"):v("error","estimate_error")?(o(null),p("estimate")):v("estimate")&&p("confirming")},disabled:v("confirming","loading"),children:[["estimate"].includes(f)&&"Confirm Change",v("asking")&&"Next",v("confirmed")&&"Close",v("confirming")&&"Please wait",v("error","estimate_error")&&"Try again",v("loading")&&"Loading"]})},BackButton:function(){var e;return v("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(M.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base",onClick:function(){v("estimate")&&m.can_change.now?p("asking"):t(!1)},children:v("estimate")&&(null===m||void 0===m||null===(e=m.can_change)||void 0===e?void 0:e.now)?"Back":"Cancel"})},type:(null===i||void 0===i?void 0:i.msg)?"warning":v("confirmed")?"success":"standard",closeCallback:b};return(0,a.jsxs)(N.Z,{modalBaseProps:g,children:[v("confirming","error","estimate_error","confirmed")&&(0,a.jsx)(Te,{data:i||m,currentStatus:f}),v("estimate")&&(0,a.jsx)(Me,{}),v("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}function Ee(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(at){return void n(at)}i.done?t(o):Promise.resolve(o).then(a,r)}function De(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){Ee(s,a,r,l,i,"next",e)}function i(e){Ee(s,a,r,l,i,"throw",e)}l(void 0)}))}}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=function(e){var t=e.currentStatus,n=e.data;console.log("data: ",n);var r,s={text:"Change confirming...",type:"loading"};("confirmed"===t&&(s={text:"Change confirmed",type:"success"}),"error"===t||"estimate_error"===t)&&(s={text:"Error:".concat((null===n||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||"Unknown error"),type:"error"});return(0,a.jsx)(X,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ue(e,t,n[t])}))}return e}({},s))},Ye=function(e){var t,n,r,s,l,i,o,c,d,u,m,h,f,p,v,b,g,y,j,w,N,k,_,C,P,S,B,O,Z,F,M,T,I,A,E,D,U,G,Y,R,W,L,$,H=e.estimate,q=function(e){return{basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[e]},z=(null===(t=H.old_plan)||void 0===t?void 0:t.key)===(null===(n=H.new_plan)||void 0===n?void 0:n.key);return H&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("p",{className:"text-left text-slate-400",children:["Any remaining Private time or Fast usage in your month will be credited towards the new plan."," ",(0,a.jsx)("u",{children:"Relax time is not included in the proration."})]})," ",(0,a.jsx)("p",{className:"text-left text-slate-400",children:"Any unpaid usage fees will be charged immediately. If downgrading to a Basic plan, /relax mode will no longer be available."}),(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:[(0,a.jsxs)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:["From"," ",(0,a.jsxs)("span",{className:q(null===(r=H.old_plan)||void 0===r?void 0:r.key),children:[null===(s=H.old_plan)||void 0===s?void 0:s.copy.name,z&&("month"===H.old_plan.price.recurring?" Monthly":" Annual")]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item unused fast",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Unused Fast Hours"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium",-(null===(i=null===(l=H.usage)||void 0===l?void 0:l.plan.left)||void 0===i?void 0:i.cents)>0?"text-rose-500":"text-emerald-500"),children:[0!==-(null===(c=null===(o=H.usage)||void 0===o?void 0:o.plan.left)||void 0===c?void 0:c.cents)&&(-(null===(u=null===(d=H.usage)||void 0===d?void 0:d.plan.left)||void 0===u?void 0:u.cents)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(-(null===(h=null===(m=H.usage)||void 0===m?void 0:m.plan.left)||void 0===h?void 0:h.cents))/100]})]}),(null===(f=H.usage)||void 0===f||null===(p=f.add_ons)||void 0===p?void 0:p.can_private)?(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item unused stealth",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Unused Stealth Mode"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium","text-emerald-500"),children:[0!==-(null===(v=H.usage)||void 0===v||null===(b=v.add_ons)||void 0===b||null===(g=b.can_private)||void 0===g||null===(y=g.left)||void 0===y?void 0:y.cents)&&(-(null===(j=H.usage)||void 0===j||null===(w=j.add_ons)||void 0===w||null===(N=w.can_private)||void 0===N||null===(k=N.left)||void 0===k?void 0:k.cents)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.floor(Math.abs(null===(_=H.usage.add_ons.can_private)||void 0===_?void 0:_.left.cents))/100]})]}):null,(null===H||void 0===H||null===(C=H.usage)||void 0===C?void 0:C.metered)?(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item stealth",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Outstanding metered usage"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium","text-rose-500"),children:["-",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===H||void 0===H||null===(P=H.usage)||void 0===P||null===(S=P.metered)||void 0===S||null===(B=S.used)||void 0===B?void 0:B.cents)/100]})]}):null]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:["To"," ",(0,a.jsxs)("span",{className:q(null===H||void 0===H||null===(O=H.new_plan)||void 0===O?void 0:O.key),children:[null===H||void 0===H||null===(Z=H.new_plan)||void 0===Z?void 0:Z.copy.name,z&&("month"===H.new_plan.price.recurring?" Monthly":" Annual")]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Price of plan"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium",(null===H||void 0===H||null===(F=H.new_plan)||void 0===F?void 0:F.price.cents)>0?"text-rose-500":"text-emerald-500"),children:["-",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===H||void 0===H||null===(M=H.new_plan)||void 0===M?void 0:M.price.cents)/100," /"," ",H.new_plan.price.recurring]})]})]})]}),(0,a.jsx)("div",{className:"p-4 space-y-4 text-slate-200 border border-transparent .bg-slate-100/5",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full text-slate-400 ","aria-label":"line item subtotal",children:[(0,a.jsx)("p",{className:"",children:"Subtotal"}),(0,a.jsxs)("p",{className:(0,x.CN)(""),children:[0!==(null===H||void 0===H||null===(T=H.stripe)||void 0===T?void 0:T.subtotal)&&((null===H||void 0===H||null===(I=H.stripe)||void 0===I?void 0:I.subtotal)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===H||void 0===H||null===(A=H.stripe)||void 0===A?void 0:A.subtotal)/100)]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full text-slate-400 ","aria-label":"line item tax",children:[(0,a.jsx)("p",{className:"",children:"Tax"}),(0,a.jsxs)("p",{className:(0,x.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),(null===H||void 0===H||null===(E=H.stripe)||void 0===E?void 0:E.tax)/100]})]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(null===H||void 0===H||null===(D=H.stripe)||void 0===D?void 0:D.starting_balance)<0&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item current balance",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Current balance"}),(0,a.jsxs)("p",{className:(0,x.CN)(" "),children:["(",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===H||void 0===H||null===(U=H.stripe)||void 0===U?void 0:U.starting_balance)/100),")"]})]}),((null===H||void 0===H||null===(G=H.stripe)||void 0===G?void 0:G.amount_due)>0||(null===H||void 0===H||null===(Y=H.stripe)||void 0===Y?void 0:Y.starting_balance)<0)&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line due",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Amount Due"}),(0,a.jsxs)("p",{className:(0,x.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),(null===H||void 0===H||null===(R=H.stripe)||void 0===R?void 0:R.amount_due)/100]})]}),((null===H||void 0===H||null===(W=H.stripe)||void 0===W?void 0:W.ending_balance)<0||(null===H||void 0===H||null===(L=H.stripe)||void 0===L?void 0:L.starting_balance)<0)&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line final balance",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Final balance"}),(0,a.jsxs)("p",{className:(0,x.CN)(" "),children:["(",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===H||void 0===H||null===($=H.stripe)||void 0===$?void 0:$.ending_balance)/100),")"]})]})]})})]})]})})},Re=function(e){var t,n,r,s,l,i,o,c,d,u,m,h,f,p,v,b,g,y=e.estimate;console.log("estimate: ",null===j||void 0===j||null===(t=j.stripe)||void 0===t?void 0:t.balance);var j=(0,O.m)().userData,w=function(e){return{basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[e]},N=(null===(n=y.old_plan)||void 0===n?void 0:n.key)===(null===(r=y.new_plan)||void 0===r?void 0:r.key);return y&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-left text-slate-400",children:"At the end of your billing cycle, your subscription plan will automatically renew and update to your newly chosen plan."})," ",(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:[(0,a.jsxs)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:["From"," ",(0,a.jsxs)("span",{className:w(null===(s=y.old_plan)||void 0===s?void 0:s.key),children:[null===(l=y.old_plan)||void 0===l?void 0:l.copy.name,N&&("month"===(null===y||void 0===y?void 0:y.old_plan.price.recurring)?" Monthly":" Annual")]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Base price"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===y||void 0===y||null===(i=y.old_plan)||void 0===i?void 0:i.price.cents)/100," /"," ",null===y||void 0===y?void 0:y.old_plan.price.recurring]})]}),(null===y||void 0===y||null===(o=y.usage)||void 0===o||null===(c=o.add_ons)||void 0===c?void 0:c.can_private)?(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item stealth",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"+ Stealth Mode"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium","text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),"20 / month"]})]}):null]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:["To"," ",(0,a.jsxs)("span",{className:w(null===y||void 0===y||null===(d=y.new_plan)||void 0===d?void 0:d.key),children:[null===y||void 0===y||null===(u=y.new_plan)||void 0===u?void 0:u.copy.name,N&&("month"===(null===y||void 0===y||null===(m=y.new_plan)||void 0===m?void 0:m.price.recurring)?" Monthly":" Annual")]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Base price"}),(0,a.jsxs)("p",{className:(0,x.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===y||void 0===y||null===(h=y.new_plan)||void 0===h?void 0:h.price.cents)/100," /"," ",null===y||void 0===y||null===(f=y.new_plan)||void 0===f?void 0:f.price.recurring]})]})]})]}),(0,a.jsx)("div",{className:"p-4 space-y-4 text-slate-200 border border-transparent .bg-slate-100/5",children:(0,a.jsxs)("div",{className:"",children:[(null===j||void 0===j||null===(p=j.stripe)||void 0===p?void 0:p.balance)<0&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item current balance",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Current balance"}),(0,a.jsxs)("p",{className:(0,x.CN)(" "),children:["(",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===j||void 0===j||null===(v=j.stripe)||void 0===v?void 0:v.balance)/100),")"]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line due",children:[(0,a.jsxs)("p",{className:"text-slate-300",children:["Amount due on"," ",(0,a.jsx)("span",{className:"italic text-slate-100",children:(0,x.L0)(j.billing_period.end,!0)[1]})]}),(0,a.jsxs)("p",{className:(0,x.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),((null===y||void 0===y||null===(b=y.new_plan)||void 0===b?void 0:b.price.cents)+(null===j||void 0===j||null===(g=j.stripe)||void 0===g?void 0:g.balance))/100]})]})]})})]})]})})},We=function(e){var t=e.currentStatus,n=e.data;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500","aria-label":"confirmation",children:function(){var e=null;switch(t){case"confirmed":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Success!"}),"Your plan change has been successful! You can safely refresh the page."]});break;case"error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Something went wrong :("}),"This may be due to insufficient funds, please double check your payment method and try again. If the issue persists, please message"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:"#support"}),"."]});break;case"estimate_error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Something went wrong :("}),"There was an error fetching your plan change price estimate, please try again shortly. If the issue persists, please message"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:"#support"}),"."]});break;default:e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:"Processing..."}),"Please wait while the payment and change is confirmed. If this takes longer than a few minutes, please message"," ",(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:"#support"}),"."]})}return e}()})}),(0,a.jsx)(Ge,{currentStatus:t,data:n})]})};function Le(e,t,n,a){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/change/"),{plan_key:e,price_key:t,hash:a,when:n})}function $e(e,t,n){return(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/change/estimate/"),{plan_key:e,price_key:t,hash:n,when:"now"})}function He(e){var t=e.planKey,n=e.priceKey,s=e.setOpen,l=e.open,i=e.type,o=(0,O.m)().hash,c=(0,r.useState)(),d=c[0],m=c[1],h=(0,u.useRouter)(),f=(0,r.useState)(),p=f[0],v=f[1],b=(0,r.useState)("end_of_period"),g=b[0],y=b[1],j=(0,r.useState)("loading"),w=j[0],k=j[1],_=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(w)}),[w]);(0,r.useEffect)((function(){function e(){return(e=De(R().mark((function e(){var a;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_("loading")){e.next=6;break}return e.next=3,$e(t,n,o);case 3:(null===(a=e.sent)||void 0===a?void 0:a.error)||"plan.estimate"!==(null===a||void 0===a?void 0:a.type)?k("estimate_error"):k(a.can_change.now?"asking":"estimate"),v(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[_,o,t,n]),(0,r.useEffect)((function(){function e(){return(e=De(R().mark((function e(){var a;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_("confirming")){e.next=6;break}return e.next=3,Le(t,n,g,o);case 3:a=e.sent,m(a),a.success?setTimeout((function(){return k("confirmed")}),500):k("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[_,o,n,t,g]);var C=(0,r.useMemo)((function(){return _("confirming")?function(){}:_("confirmed")?function(){return h.reload()}:null}),[_,h]),P={open:l,setOpen:s,title:i,ActionButton:function(){return(0,a.jsxs)(M.Z,{className:(0,x.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:!text-gray-900 disabled:!bg-gray-600 disabled:pointer-events-none disabled:cursor-not-allowed min-h-[3rem] bg-blue-700 hover:bg-blue-800"),onClick:function(){_("confirmed")?h.reload():_("asking")?k("estimate"):_("error","estimate_error")?(m(null),v(null),k("loading")):_("estimate")&&k("confirming")},disabled:_("confirming","loading"),children:[["estimate"].includes(w)&&"Confirm Change",_("asking")&&"Next",_("confirmed")&&"Close",_("confirming")&&"Please wait",_("error","estimate_error")&&"Try again",_("loading")&&"Loading"]})},BackButton:function(){var e;return _("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(M.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base",onClick:function(){_("estimate")&&p.can_change.now?k("asking"):s(!1)},children:_("estimate")&&(null===p||void 0===p||null===(e=p.can_change)||void 0===e?void 0:e.now)?"Back":"Cancel"})},type:(null===d||void 0===d?void 0:d.msg)?"warning":_("confirmed")?"success":"standard",closeCallback:C};return(0,a.jsxs)(N.Z,{modalBaseProps:P,children:[_("asking")&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:"Choose your timeframe"}),(0,a.jsx)("p",{className:"",children:"Changing plan now will prorate your unused Fast Hours, crediting them towards the next month's cost."}),(0,a.jsxs)("fieldset",{className:"mt-4",onChange:function(e){return y(e.target.id)},children:[(0,a.jsx)("legend",{className:"sr-only",children:"Cancel timeframe"}),(0,a.jsx)("div",{className:"space-y-4",children:[{id:"end_of_period",title:"Swap at end of subscription period"},{id:"now",title:"Swap immediately with proration"}].map((function(e){return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:e.id,name:"cancel-timeframe",type:"radio",defaultChecked:e.id===g,className:"w-4 h-4 text-indigo-600 bg-red-500 border-gray-300 focus:ring-indigo-500 cursor-pointer"}),(0,a.jsx)("label",{htmlFor:e.id,className:"block ml-3 text-base font-medium text-slate-200 cursor-pointer",children:e.title})]},e.id)}))})]})]}),_("confirming","error","estimate_error","confirmed")&&(0,a.jsx)(We,{data:d||p,currentStatus:w}),"now"===g&&_("estimate")&&p&&(0,a.jsx)(Ye,{estimate:p}),"now"!==g&&_("estimate")&&p&&(0,a.jsx)(Re,{estimate:p}),_("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}var qe=n(50136),ze=n(5966),Ke=n(96361),Ve=n(44768),Je=n(39590),Qe=n(85113),Xe=n(74959),et=n(79771),tt=n(25159),nt=function(e){var t=e.className,n=(0,O.m)().setModalProps,r=!1;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{onClick:function(){n({type:"credit"}),(0,Z.B)("view_credit_options",{category:"Billing",label:"view 'buy more credits' options"})},className:(0,x.CN)("items-center py-2.5 px-1 w-full font-medium !text-base text-slate-100 bg-emerald-700/80 rounded-md border-slate-700/50 .border hover:bg-emerald-700",r,t),"aria-describedby":"tier-standard",disabled:r,children:"Buy more Fast hours"})})},at=n(12918);function rt(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(at){return void n(at)}i.done?t(o):Promise.resolve(o).then(a,r)}var st=function(e){var t=e.customText,n=(0,r.useState)(!1),s=n[0],l=n[1],i=(0,O.m)().hash,o=function(){var e,t=(e=R().mark((function e(t){var n,a;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,l(!0),n=window.open(),e.next=6,(0,x.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/portal/session/"),{hash:i,return_url:i?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(i):"".concat("https://www.midjourney.com","/account/")});case 6:if(500!==(a=e.sent).statusCode){e.next=12;break}return console.error(a.message),l(!1),alert("Error: ".concat(a.message)),e.abrupt("return");case 12:n&&(n.location=a.url),console.warn(at.default.message),l(!1),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(e.t0),l(!1),alert("Error: ".concat(e.t0.message));case 22:case"end":return e.stop()}}),e,null,[[1,17]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){rt(s,a,r,l,i,"next",e)}function i(e){rt(s,a,r,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,a.jsx)("form",{onSubmit:o,className:"w-full",children:(0,a.jsxs)("button",{type:"submit",disabled:s,className:"items-center py-2.5 px-1 w-full !text-base font-medium text-slate-100 bg-blue-900/80 hover:bg-blue-900 rounded-md border-slate-700/50 .border",children:[s&&(0,a.jsx)($.gb,{className:"mr-4 animate-spin",height:"18"}),t||"Edit billing and payment"]})})},lt=n(88371),it=n(95862),ot=function(e){var t=e.className,n=e.tier,s=(0,u.useRouter)(),l=(0,O.m)(),i=(l.userData,l.privateSub),o=l.cancelling,c=l.changing,d=l.setModalProps,m=l.userUsage,h=(0,r.useMemo)((function(){return[o?{title:"Uncancel Plan",onClick:function(){var e;d({type:"cancel"}),(0,Z.B)("view_cancelchange",{category:"Billing",label:"view cancel change options",plan:n.key,price:null===(e=null===n||void 0===n?void 0:n.price[null===n||void 0===n?void 0:n.credit_period])||void 0===e?void 0:e.price,period:n.credit_period})},icon:(0,a.jsx)(ze.Z,{height:18})}:{title:"Cancel Plan",onClick:function(){var e;d({type:"cancel"}),(0,Z.B)("view_cancel",{category:"Billing",label:"view cancel subscription options",plan:n.key,price:null===(e=null===n||void 0===n?void 0:n.price[null===n||void 0===n?void 0:n.credit_period])||void 0===e?void 0:e.price,period:n.credit_period})},icon:(0,a.jsx)(qe.Z,{height:18})},i&&{title:"Cancel Stealth",onClick:function(){return d({type:"cancelPrivate"})},icon:(0,a.jsx)(Ke.Z,{height:18})},c&&{title:"break"},c&&{title:"Cancel plan change",onClick:function(){return d({type:"unchange"})},icon:(0,a.jsx)(Ve.Z,{height:18})},{title:"break"},{title:"Manage API Keys",onClick:function(){return s.push("/account/keys")},icon:(0,a.jsx)(Je.Z,{height:18})}].filter(Boolean)}),[]);return(0,a.jsxs)("div",{className:"flex flex-col col-span-1 gap-4 p-6 bg-darkBlue-900/60 rounded-lg",children:[(0,a.jsxs)("h2",{className:"text-xl w-full flex items-center justify-between font-medium text-slate-200",children:["Plan Details",(0,a.jsx)(it.Z,{optionArray:h,maxWidth:"!w-max",placement:"top-end",className:"h-full",offset:[0,10],transformOrigin:"top-right",buttonHoverStyle:"!rounded-full",children:(0,a.jsx)("button",{className:(0,x.CN)("group p-1 text-slate-400 bg-darkBlue-500 px-3 hover:underline underline-offset-2 rounded-full .border-2 text-sm ml-auto flex gap-2 items-center justify-center !bg-opacity-100"),children:"Manage"},"options")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 justify-start w-full text-slate-400",children:[(0,a.jsx)("h3",{className:"font-medium ".concat(t," opacity-70"),children:"Fast Hours"}),(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:["Included",(0,a.jsxs)("span",{className:"text-slate-200 ",children:[(0,lt.n)(m.period_credits/1e3/60/60)," /"," ",(0,lt.n)(m.plan.credit_allocation/1e3/60/60)]})]}),(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsxs)("div",{className:"group flex relative gap-0.5 items-center !no-underline hover:!underline decoration-dotted decoration-1 underline-offset-2 cursor-help group-button",children:[(0,a.jsx)(mt,{title:"What are Rollover Fast Hours?",text:"Rollover Fast Hours are those bought in addition to your plan. They have no expiration date, but require an active subscription to use."}),"Rollover",(0,a.jsx)(et.Z,{height:16,className:"text-slate-500 group-hover:text-slate-400"})]}),(0,a.jsx)("span",{className:" text-slate-200 ",children:(0,lt.n)((null===m||void 0===m?void 0:m.rollover_credits)/1e3/60/60)})]}),(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsxs)("div",{className:"group flex relative gap-0.5 items-center !no-underline hover:!underline decoration-dotted decoration-1 underline-offset-2 cursor-help group-button",children:[(0,a.jsx)(mt,{title:"What are Bonus Fast Hours?",text:"Bonus hours are awarded to the top 1000 raters of each day. Bonus hours expire 30 days from the date they are awarded."}),"Bonus",(0,a.jsx)(et.Z,{height:16,className:"text-slate-500 group-hover:text-slate-400"})]}),(0,a.jsx)("span",{className:" text-slate-200 ",children:(0,lt.n)((null===m||void 0===m?void 0:m.expiring_credits)/1e3/60/60)})]})]}),(0,a.jsx)("div",{className:"flex flex-col gap-2 justify-start mt-auto w-full",children:(0,a.jsx)(nt,{})})]})},ct=function(e){var t,n,r=e.tier,s=(0,O.m)(),l=s.setModalProps,i=(s.userData,s.privateSub);s.cancelling;return(0,a.jsxs)("div",{className:"flex flex-col col-span-1 gap-4 p-6 bg-darkBlue-900/60 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-slate-200",children:"Plan features"}),(0,a.jsx)("div",{className:"flex flex-col gap-2 justify-start w-full",children:(0,a.jsxs)("ul",{role:"list",className:"flex flex-col space-y-3",children:[null===r||void 0===r||null===(t=r.copy)||void 0===t||null===(n=t.features)||void 0===n?void 0:n.map((function(e){return(0,a.jsxs)("li",{className:"flex items-center text-left text-slate-400 even:text-slate-400 lg:col-span-1",children:[(0,a.jsx)(B.Z,{height:14,className:" text-emerald-700","aria-hidden":"true"}),(0,a.jsx)("p",{className:"ml-3 text-base ",children:e})]},e)})),i?(0,a.jsxs)("li",{className:"flex justify-between items-center text-left text-slate-400 even:text-slate-400 lg:col-span-1",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(tt.Z,{height:14,className:" text-yellow-600","aria-hidden":"true"}),(0,a.jsx)("p",{className:"ml-3 text-base ",children:"Stealth Mode add-on"})]}),(0,a.jsx)("button",{className:"text-sm text-slate-600 hover:text-rose-600 hover:underline",onClick:function(){return l({type:"cancelPrivate"})},children:"remove"})]}):(0,a.jsx)(a.Fragment,{})]})})]})},dt=function(e){var t,n,r,s,l,i,o=e.viewTab,c=e.tier,d=(0,O.m)(),u=d.userData,m=d.hash,h=d.cancelling,f=d.changing;return console.log("userData: ",u),(0,a.jsxs)("div",{className:"flex flex-col col-span-1 gap-6 p-6 bg-darkBlue-900/60 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-slate-200",children:"Billing & Payment"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 justify-start w-full text-slate-400",children:[(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:["Price",(0,a.jsxs)("span",{className:"text-slate-200 ",children:["$",("year"===o?Math.floor(c.price[o].cents/100/12):(null===c||void 0===c?void 0:c.price[o].cents)/100)+(u.add_ons.can_private?20:0)," ","/ mo"]})]}),(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:["Billing period"," ",(0,a.jsx)("span",{className:"text-slate-200",children:"year"===o?"Annual":"Monthly"})]}),h?(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:["Cancelling on",(0,a.jsx)("span",{className:"text-slate-200",children:(0,x.L0)(null===u||void 0===u||null===(t=u.next)||void 0===t?void 0:t.at,!0)[1]})]}):(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:["Renewal date",(0,a.jsx)("span",{className:"text-slate-200",children:(0,x.L0)(u.billing_period.end,!0)[1]})]}),!h&&f&&(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:["Changing to",(0,a.jsxs)("span",{className:"text-slate-200 capitalize",children:[null===u||void 0===u||null===(n=u.next)||void 0===n||null===(r=n.plan)||void 0===r?void 0:r.key," ",null===u||void 0===u||null===(s=u.next)||void 0===s||null===(l=s.plan)||void 0===l||null===(i=l.price)||void 0===i?void 0:i.key,"ly"]})]}),(null===u||void 0===u?void 0:u.stripe.balance)>0&&(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsxs)("div",{className:"group flex relative gap-0.5 items-center !no-underline hover:!underline decoration-dotted decoration-1 underline-offset-2 cursor-help group-button",children:["Available Balance"," ",(0,a.jsx)(mt,{title:"What is Available Balance?",text:"Certain plan changes (e.g. Add-on removals) may result in a positive credit balance. This balance will be used to pay for future charges."}),(0,a.jsx)(et.Z,{height:16,className:"text-slate-500 group-hover:text-slate-400"})]}),(0,a.jsxs)("span",{className:"text-slate-200",children:["($",(null===u||void 0===u?void 0:u.stripe.balance)/100,")"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mt-auto w-full sm:flex-nowrap",children:[(0,a.jsx)(st,{hash:m||void 0,customText:"Edit Billing"}),(0,a.jsx)(st,{hash:m||void 0,customText:"View Invoices"})]})]})},ut=function(e){var t,n,s,l,i=e.tier,o=e.viewTab,c=(0,O.m)(),d=c.userPlanRecurring,u=c.status,m=c.subbed,h=c.privateSub,f=c.userData,p=c.cancelling,v={basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[i.key],b=(0,r.useState)(!0),g=b[0];b[1];return(0,a.jsx)("div",{className:"relative px-4 mx-auto w-full max-w-7xl text-base",children:(0,a.jsx)("div",{className:".overflow-hidden mx-auto relative bg-darkBlue-500/50 rounded-2xl border transition-[border] ".concat(m&&i.current?"active"===u||null==u?"border-slate-800/30":"border-red-500/30 !border-2":"border-slate-800/30","  shadow-lg lg:flex "),children:(0,a.jsxs)("div",{className:"flex flex-col flex-1 gap-6 p-4 sm:grid sm:p-8",style:{gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))"},children:[(0,a.jsxs)("div",{className:"flex flex-wrap col-span-full gap-4 justify-between items-center",children:[(0,a.jsxs)("h3",{className:"w-auto text-2xl font-extrabold text-slate-100 capitalize",children:["Your ",(0,a.jsxs)("span",{className:"".concat(v),children:[i.key," Plan"]}),h&&" + Stealth Add-On"]}),m&&i.current&&(0,a.jsxs)("div",{children:[p?(0,a.jsxs)("p",{className:(0,x.CN)("inline-flex relative cursor-help group-button items-center py-1 px-2 pr-3 ml-4  text-white align-middle rounded-full"),children:[(0,a.jsx)(mt,{text:"Cancelling on ".concat((0,x.L0)(f.billing_period.end,!0)[1])}),(0,a.jsx)(qe.Z,{height:14,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm font-bold tracking-wide leading-[16px]","aria-label":"cancelling",children:"CANCELLING"})]}):null,!p&&(null===f||void 0===f||null===(t=f.next)||void 0===t?void 0:t.at)?(0,a.jsxs)("p",{className:(0,x.CN)("inline-flex relative cursor-help group-button items-center py-1 px-2 pr-3 ml-4  text-white align-middle rounded-full"),children:[(0,a.jsx)(mt,{text:"Changing to ".concat(null===f||void 0===f||null===(n=f.next)||void 0===n?void 0:n.plan.key," ").concat(null===f||void 0===f||null===(s=f.next)||void 0===s?void 0:s.plan.price.key,"ly on ").concat((0,x.L0)(null===f||void 0===f||null===(l=f.next)||void 0===l?void 0:l.at,!0)[1])}),(0,a.jsx)(Qe.Z,{height:14,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm font-bold tracking-wide leading-[16px]",children:"CHANGING"})]}):null,(0,a.jsxs)("div",{className:(0,x.CN)("inline-flex items-center py-1 px-2 pr-3 ml-4 text-sm font-bold tracking-wide leading-[16px] text-white uppercase align-middle rounded-full","active"===u||null==u?"bg-emerald-700":"bg-red-700"),children:["active"===u||null==u?(0,a.jsx)(Xe.Z,{height:14,className:"mr-1"}):(0,a.jsx)(ye.Z,{height:14,className:"mr-1"})," ",(null===u||void 0===u?void 0:u.replace("_"," ").toUpperCase())||"ACTIVE"]}),(0,a.jsx)("div",{className:(0,x.CN)("absolute rounded-2xl top-0 right-0 -z-10 w-full h-full bg-gradient-to-bl  via-transparent","active"===u||null==u?"from-emerald-700/30":"from-red-700/30")})]})]}),g&&(0,a.jsxs)(a.Fragment,{children:[i.legacy&&i.current&&(0,a.jsx)(X,{className:"col-span-full text-left ",type:"warning",text:"You are subscribed to a plan we no longer offer. You may remain subscribed to your current plan indefinitely, however, you may miss out on certain new features as they are added to the supported plans."}),(0,a.jsx)(ot,{className:v,tier:i}),(0,a.jsx)(ct,{tier:i}),(0,a.jsx)(dt,{viewTab:o,tier:i})]})]})})},i.price[d].id)},mt=function(e){var t=e.title,n=e.text;return(0,a.jsxs)("span",{role:"tooltip",className:"flex absolute bottom-[120%] !-left-4 flex-col gap-1 p-3 pt-2 w-64 max-w-max leading-normal text-slate-200 bg-slate-900 rounded-xl border border-slate-800/50 before:!border-t-darkBlue-500 shadow-md shadow-darkBlue-900/50 opacity-0 [.group-button:hover_&]:opacity-100 transition-none [.group-button:hover_&]:transition-opacity !duration-[1ms] delay-200 pointer-events-none md:w-80",children:[t&&(0,a.jsxs)("p",{className:"flex gap-2 items-center text-base font-medium",children:[(0,a.jsx)(et.Z,{height:24,className:"inline shrink-0 text-blue-500"}),t]}),n&&(0,a.jsxs)("p",{className:"flex gap-2 text-sm text-slate-400",children:[t&&(0,a.jsx)(et.Z,{height:24,className:"shrink-0 text-blue-500 opacity-0"}),n]})]})};function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){xt(e,t,n[t])}))}return e}var ft=function(){var e=(0,O.m)(),t=e.modalProps,n=e.setModalProps,r=ht({open:!0,setOpen:function(){return n(null)}},null===t||void 0===t?void 0:t.data);switch(null===t||void 0===t?void 0:t.type){case"credit":return(0,a.jsx)(ge,ht({},r),"credit-modal");case"cancel":return(0,a.jsx)(de,ht({},r),"cancel-modal");case"cancelPrivate":return(0,a.jsx)(Se,ht({},r),"cancel-private-modal");case"upgrade":return(0,a.jsx)(He,ht({},r),"upgrade-modal");case"unchange":return(0,a.jsx)(Ae,ht({},r),"unchange-modal");case"invoices":return(0,a.jsx)(J,ht({},r));default:return null}};function pt(e){var t=e.user;return(0,a.jsxs)("div",{className:"flex flex-wrap gap-y-4 justify-between items-center w-full",children:[(0,a.jsxs)("h1",{className:"flex items-center text-2xl font-medium text-slate-400 align-baseline",children:[(0,a.jsx)("div",{className:"flex overflow-hidden items-center p-[0.15rem] mr-4 bg-uiBlue-500/60 rounded-full",children:(0,a.jsx)(i.default,{src:(null===t||void 0===t?void 0:t.image)||"aaa",unoptimized:!0,height:36,width:36,className:"rounded-full",alt:"Profile Picture"})}),null===t||void 0===t?void 0:t.name,(0,a.jsxs)("span",{className:"text-xl text-slate-700 align-baseline",children:["#",null===t||void 0===t?void 0:t.discriminator]})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("button",{className:"box-border flex justify-center items-center py-2 px-3 h-auto font-sans text-lg font-medium text-slate-500 hover:text-slate-400 active:text-slate-600 hover:underline underline-offset-2 active:underline-offset-1 rounded",onClick:function(){return(0,l.signOut)()},children:[(0,a.jsx)(s.Z,{height:24,className:"mr-2"})," Sign out"]})})})]})}function vt(e){var t,n=e.router,r=e.setConfirmData,s=e.viewTab,l=void 0===s?"year":s,i=e.setViewTab,o=(0,O.m)(),c=o.hash,d=o.user,u=o.userData,m=o.plans,x=o.userUsage,h=o.userPlanRecurring,f=null===m||void 0===m?void 0:m.filter((function(e){return e.current})),p={tiers:m,viewTab:l,setViewTab:i,cancelling:!1,hash:c};return(0,a.jsxs)(a.Fragment,{children:[(null===(t=n.query)||void 0===t?void 0:t.session_id)&&(0,a.jsx)(P,{sessionId:n.query.session_id,setConfirmData:r,hash:c}),(0,a.jsx)(pt,{user:d}),(0,a.jsx)(ft,{}),(0,a.jsx)("div",{className:"pt-12 sm:pt-16 lg:pt-24",children:(0,a.jsx)("div",{className:"px-4 mx-auto max-w-7xl text-center sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"mx-auto space-y-2 max-w-3xl lg:max-w-none",children:[(0,a.jsx)("p",{className:"text-3xl font-extrabold text-white sm:text-4xl lg:text-5xl",role:"heading",children:"active"===(null===u||void 0===u?void 0:u.status)?"Manage Subscription":"Purchase a subscription"}),(0,a.jsx)("p",{className:"text-xl text-gray-300",children:"Choose the plan that works for you."})]})})}),(null===f||void 0===f?void 0:f.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"pt-12 mb-16 sm:pt-16",children:(0,a.jsx)(ut,ht({},p,{tier:f[0],viewTab:h,userUsage:x}))})}),(0,a.jsx)("div",{role:"",className:"h-16"}),(0,a.jsx)(G,{className:"",viewTab:l,setViewTab:i}),(0,a.jsx)(D,ht({},p))]})}},30658:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(85893),r=n(67294),s=n(84539),l=n(59506),i=n(68715),o=n(19965),c=n(13902),d=n(5506),u=n(36090);function m(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var x=function(e){var t=e.BackButton,n=e.ActionButton,r=e.stackButtons;return(0,a.jsxs)("div",{className:"flex flex-col-reverse xs:flex-row flex-wrap gap-4 ".concat(!r&&"xs:flex-nowrap"),children:["object"===typeof t?(0,a.jsx)("button",{className:"btn btn-primary ".concat(t.className),type:"button",children:t.label}):t&&(0,a.jsx)(t,{}),"object"===typeof n?(0,a.jsx)("button",{className:"btn btn-primary ".concat(n.className),type:"button",children:n.label}):n&&(0,a.jsx)(n,{})]})};function h(e){var t=e.modalBaseProps.showButtons,n=void 0===t||t,h=e.children,f=m(e.modalBaseProps,["showButtons"]),p=(0,r.useMemo)((function(){switch(f.type){case"success":return{border:"border-green-900/40",Icon:(0,a.jsx)(i.Z,{height:28,className:"text-green-700 $"})};case"error":return{border:"border-red-900/50",Icon:(0,a.jsx)(o.Z,{height:28,className:"text-red-700"})};case"warning":return{border:"border-darkBlue-500/50",Icon:(0,a.jsx)(c.Z,{height:28,className:"text-yellow-600"})};default:return{border:"border-darkBlue-500/50",Icon:f.Icon}}}),[f.type]);return(0,a.jsx)(s.u.Root,{show:f.open,appear:!0,as:r.Fragment,children:(0,a.jsx)(l.V,{as:"div",className:"overflow-y-auto overscroll-none fixed inset-0 z-[499]",onClose:function(){f.closeCallback?f.closeCallback():f.setOpen(!1)},children:(0,a.jsxs)("div",{className:"flex overflow-auto justify-center items-end pt-4 min-h-screen text-center sm:block sm:p-0 md:px-4 md:pb-20",children:[(0,a.jsx)(s.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(l.V.Overlay,{className:"overflow-auto fixed inset-0 bg-darkBlue-700 !bg-opacity-95 transition-opacity cursor-pointer md:bg-darkBlue-900"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"\u200b"}),(0,a.jsxs)(s.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",className:"inline-block overflow-auto relative text-left align-bottom bg-darkBlue-500 rounded-t-xl md:rounded-2xl md:border-2 ".concat(p.border," shadow-xl transition-all sm:my-8 w-full sm:max-w-lg sm:align-middle ").concat(f.maxHeight),children:[(0,a.jsxs)("div",{className:"flex items-center p-6 py-5 bg-darkBlue-900/90",children:[(0,a.jsxs)(l.V.Title,{as:"h3",className:"inline-flex gap-3 justify-start items-center w-full font-medium leading-6 text-left text-white text-md",children:[p.Icon," ",f.title]}),f.showClose&&(0,a.jsx)("div",{className:"relative w-6 h-6",children:(0,a.jsx)(u.Z,{className:"absolute focus:text-slate-300 focus:ring-2 centerAbs w-10 h-10 text-slate-500 hover:!bg-transparent hover:text-slate-300",onClick:function(e){e.stopPropagation(),e.preventDefault(),f.closeCallback?f.closeCallback():f.setOpen(!1)},children:(0,a.jsx)(d.Z,{height:24})})})]}),(0,a.jsx)("div",{className:"shrink-0 py-6 px-4 bg-darkBlue-900/50 sm:p-6  ".concat(f.containerStyle),children:(0,a.jsx)("div",{className:"text-center",children:h})}),(f.BackButton||f.ActionButton)&&n&&(0,a.jsx)("div",{className:"px-4 pb-4 bg-darkBlue-900/50 sm:p-6 sm:pt-2",children:(0,a.jsx)(x,{BackButton:f.BackButton,ActionButton:f.ActionButton,stackButtons:f.stackButtons})})]})]})})})}},11687:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(85893),r=n(6512),s=n(61782),l=n(45332),i=[{question:"What are 'Fast Hours'?",anchor:"",answer:["We have two modes for image generation, \u201cfast\u201d and \u201crelax\u201d. Fast tries to give you a GPU instantly. It's our highest priority processing tier, and it's kinda expensive. Relax puts you in a queue behind others based on how much you've used the system in relax mode.","The basic plan comes with 200 fast GPU-minutes/mo, standard with 15 fast gpu-hours/mo, and pro with 30 gpu-hours/mo.","One hour is roughly 60 image generation or upscale commands and roughly 200 image variation commands.","These numbers are experimental and may change at any time."]},{question:"What is unlimited relaxed generation?",anchor:"",answer:["The standard and pro plans include relax mode, which can be enabled with the command `/relax` and disabled with `/fast`. In relax mode, your image generations do not consume fast time.","Please note: The Basic Plan does not include relax mode and 'Max Upscale' is not available in relax mode."]},{question:"What if I want MORE fast?",anchor:"",answer:"Rollover Fast Hours can be bought in addition to your plan. They have no expiration date, but require an active subscription to use."},{question:"What is the Community Gallery?",anchor:"",answer:"The Gallery is a place where paid members can explore images being made on the platform and a central place to organize your own images, collect favorites, and more."},{question:"What if I don't want my images to appear in the Gallery?",anchor:"",answer:"We are building an open-by-default community focused on collective exploration and fun. If you have a need to opt-out of this and be private-by-default you can subscribe to the $60/mo pro plan and activate stealth generation with the `/stealth` command."},{question:"How does commercial use work?",anchor:"",answer:["If you have subscribed at any point, you are free to use your images in just about any way you want.",'For complete details please see our <a href="https://discord.com/channels/662267976984297473/964598182225002516/964599412460519476">terms of service</a>.']},{question:"Can I cancel my subscription plan?",anchor:"",answer:"You are free to cancel your subscription at any time but the cancellation will be effective at the end of the current billing cycle. If you change your mind, you can un-cancel your plan before the end of the cycle."},{question:"Can I change my subscription plan?",anchor:"",answer:"You are free to change your subscription at any time, effective immediately. Any remaining usage or time will be credited to your new plan."}];function o(e){var t=e.className;return(0,a.jsx)("div",{id:"faq",className:" ".concat(t),children:(0,a.jsx)("div",{className:"py-12 px-4 mx-auto max-w-7xl xs:px-8 md:py-24 md:px-16",children:(0,a.jsxs)("div",{className:"flex flex-col items-center w-full text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-4xl font-extrabold text-white",children:"Frequently Asked Questions"}),(0,a.jsxs)("p",{className:"mt-4 text-lg text-gray-400",children:["Can't find the answer you're looking for? ",(0,a.jsx)("br",{}),"Read the"," ",(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:"https://midjourney.gitbook.io/docs/",children:"Quick Start Guide"})," ","or visit the"," ",(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:"https://discord.com/channels/662267976984297473/958069758211797092",children:"#support"})," ","channel to ask for help."]})]}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("dl",{className:"mt-12 space-y-3",children:i.map((function(e){return(0,a.jsx)(r.p,{as:"div",className:" bg-darkBlue-500/50 hover:bg-darkBlue-500/70 rounded-xl border border-slate-800/30",children:function(t){var n=t.open;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("dt",{className:"text-lg",children:(0,a.jsxs)(r.p.Button,{className:"flex flex-col justify-between items-start p-6 w-full text-left text-gray-400",children:[(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)("span",{className:" text-white",children:e.question}),(0,a.jsx)("span",{className:"flex items-center ml-6 h-7",children:(0,a.jsx)(s.Z,{className:(0,l.CN)(n?"-rotate-180":"rotate-0","h-6 w-6 transform"),"aria-hidden":"true"})})]}),(0,a.jsx)(r.p.Panel,{as:"dd",className:"pr-12 mt-2 cursor-default",onClick:function(e){e.stopPropagation()},children:(0,a.jsx)("p",{className:"text-base text-left text-slate-300",children:Array.isArray(e.answer)?e.answer.map((function(e){return(0,a.jsx)("p",{className:"mb-4",dangerouslySetInnerHTML:{__html:e.replace(/<a(.*?)>(.*?)<\/a>/g,(function(e,t,n){return"<a".concat(t,' class="font-medium text-blue-600 hover:text-blue-500">').concat(n,"</a>")}))}},e)})):e.answer})})]})})})}},e.question)}))})})]})})},"faqHead")}},36792:function(e,t,n){n.d(t,{Z:function(){return p}});var a,r=n(34051),s=n.n(r),l=n(85893),i=n(67294),o=n(44304),c=n(30315),d=n(45332),u=n(54465),m=function(){return a||(a=(0,u.J)("pk_live_51Klny6JavIy9pYdOCk6XphadL80gWZLgPnyWI4DXPHkyO6ocDGZg6hm9Wt67Ogzc11UodLsBO5PQDEVL1kigVDhS00a8GLusLv")),a},x=n(36090),h=n(12197);function f(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}var p=function(e){var t=e.planKey,n=e.priceKey,a=e.period,r=e.disabled,u=e.className,p=(0,i.useState)(!1),v=p[0],b=p[1],g=(0,c.m)().hash,y=(0,i.useCallback)(function(){var e,l=(e=s().mark((function e(l){var i,c,u,x;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.preventDefault(),e.prev=1,!v&&!r){e.next=4;break}return e.abrupt("return");case 4:return b(!0),(0,o.B)("view_checkout",{category:"Billing",label:"checkout",plan:t,price:n,period:a}),e.next=8,(0,d.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/checkout/session/"),{order:{items:[{type:"plan",product:t,price:n}]},success_url:g?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(g,"&session_id="):"".concat("https://www.midjourney.com","/account/?session_id="),cancel_url:g?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(g):"".concat("https://www.midjourney.com","/account"),hash:g,platform:"midjourney"},!0);case 8:return i=e.sent,e.next=11,i.json();case 11:if(!(c=e.sent).error){e.next=14;break}throw new Error(c.error.message);case 14:return e.next=16,m();case 16:return u=e.sent,e.next=19,u.redirectToCheckout({sessionId:c.id});case 19:x=e.sent.error,console.warn(x.message),b(!1),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0),b(!1),alert("Error: ".concat((s=e.t0,(null!=(h=Error)&&"undefined"!==typeof Symbol&&h[Symbol.hasInstance]?h[Symbol.hasInstance](s):s instanceof h)?e.t0.message:String(e.t0))));case 29:case"end":return e.stop()}var s,h}),e,null,[[1,24]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){f(s,a,r,l,i,"next",e)}function i(e){f(s,a,r,l,i,"throw",e)}l(void 0)}))});return function(e){return l.apply(this,arguments)}}(),[r,g,v,t,n]);return(0,l.jsx)("form",{onSubmit:y,children:(0,l.jsxs)(x.Z,{type:"submit",disabled:r||v,className:"flex relative justify-center items-center py-3 px-5 w-full text-base font-medium text-white rounded-md border hoverUpSmall hover:brightness-125 border-transparent disabled:pointer-events-none ".concat(r&&"opacity-20"," ").concat(u),"aria-describedby":"tier-".concat(t),role:"button",children:[v&&(0,l.jsx)(h.gb,{className:"absolute left-3 animate-spin",height:"18"})," ",r?"Unavailable":"Subscribe"]})})}},60670:function(e,t,n){var a=n(85893),r=n(41664);t.Z=function(e){var t=e.href,n=e.className,s=e.children,l=e.target,i=void 0===l?"":l,o=e.shallow,c=void 0===o||o;return(0,a.jsx)(r.default,{href:t,shallow:c,children:(0,a.jsx)("a",{target:i,className:"hover:bg-uiBlue-600/80 active:bg-slate-800 active:ring-uiBlue-600\n       flex  justify-center items-center py-2 px-2 w-full text-base font-medium text-white   bg-opacity-80 rounded-md focus:outline-none active:ring-2   shadow-sm ".concat(n),children:s})})}},30315:function(e,t,n){n.d(t,{h:function(){return r},m:function(){return s}});var a=n(67294);var r=(0,n(88305).f)((function(e){var t,n,r,s,l=(0,a.useState)({open:!1,type:null,data:{}}),i=l[0],o=l[1],c=e||{},d=c.hash,u=c.user,m=c.plans,x=c.userData;return{hash:d,user:u,plans:m,userData:x,userUsage:c.userUsage,userPlanRecurring:null===x||void 0===x||null===(t=x.plan)||void 0===t?void 0:t.recurring,status:null===x||void 0===x?void 0:x.status,subbed:"active"===(null===x||void 0===x?void 0:x.status),privateSub:null===x||void 0===x||null===(n=x.add_ons)||void 0===n?void 0:n.can_private,modalProps:i,setModalProps:o,cancelling:null===x||void 0===x||null===(r=x.next)||void 0===r?void 0:r.cancel,changing:null===x||void 0===x||null===(s=x.next)||void 0===s?void 0:s.plan}})),s=r.useContainer}}]);